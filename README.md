## Brain system app

### Главное
- Проект представляет собой десктопное приложение для проведения игр "Брейн-ринг", "Что-где-когда" и "Эрудитка".
- Приложение основано на фреймворке `Qt6` и библиотеке для python `PyQt6`.
- Для игровых  режимов "брейн-ринг" и "эрудитка" необходимо подключение кнопок игроков. В данном проекте предполагается использование контроллера `Arduino Pro Micro`. Особенность данного контроллера - чип `ATmega32u4`, который имеет встроенную поддержку USB соединения, что позволяет компьютеру автоматически определять плату как внешнюю клавиатуру.
- В директории `arduino_pro_micro`находится скетч для прошивки. Скетч предполагает подключение 6-ти кнопок, нажатие на которые эквивалентно нажатию цифровых клавиш 1-6 на основной клавиатуре компьютера.

### Локальное развертывание проекта:
1. Версия python: `3.12`, версия poetry:` 2.1.3`.
2. Создать виртуальное окружение и активировать его:
    - `python -m venv venv`;
    - `source venv/bin/activate`.
3. Обновить pip:
    - `pip install --upgrade pip`.
4. Установить poetry:
    - `pip install poetry==2.1.3`.
5. Установить зависимости:
    - `poetry install` (если нужны все зависимости);
    - `poetry install --without dev` (если нужны только основные зависимости).
6. Запустить приложение можно следующей командой:
    - `python main.py`.

### Разработка UI-макетов:
- В системе должны быть глобально установлены `Qt 6 development tools`. Пример для Debian:
    - `apt install qt6-tools-dev-tools`
- Qt designer запускается командой `/usr/lib/qt6/bin/designer`.
- ui-макеты окон расположены в директории `ui/autogenerated` и имеют расширение `.ui`. В этой же директории находятся автоматически сгенерированные ни их основе python-модули.
- Для преобразования ui-инструкции в python-модуль необходимо выполнить команды (отдельно для каждого окна):
    - `pyuic6 ui/autogenerated/main_window.ui -o ui/autogenerated/main_window_autogenerated.py`
    - `pyuic6 ui/autogenerated/brain_ring_game_window.ui -o ui/autogenerated/brain_ring_game_window_autogenerated.py`
    - `pyuic6 ui/autogenerated/www_game_window.ui -o ui/autogenerated/www_game_window_autogenerated.py`
    - `pyuic6 ui/autogenerated/erudite_game_window.ui -o ui/autogenerated/erudite_game_window_autogenerated.py`

### Упаковка приложения в portable-версию:
- Для упаковки приложения используется библиотека `pyinstaller`.
- Сборка portable-версии осуществляется командой:
    - Linux: `pyinstaller main.py --add-data "assets:assets" --add-data "config.ini:."`;
    - Windows: `pyinstaller main.py --noconsole --add-data "assets;assets" --add-data "config.ini;."`.

В этой команде:
- флаг `--noconsole` указывает на то, что при запуске приложения не следует запускать консоль;
- флаг `--add-data` указывает путь хранения дополнительных не бинарных данных (изображений, аудио и файла конфигурации).

Готовая сборка будет находиться в директории `dist`.

### Legal Info
- Векторные изображения для svg-макетов взяты на сайте www.svgrepo.com.
- Аудиофайлы взяты из телевизора :tv:
